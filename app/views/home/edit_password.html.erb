<%= form_for @user, url: user_registration_path, method: :patch do |f| %>

  <div class="columns is-gapless full-height">
    <div class="column is-3">
      <div class="card">
        <div class="card-content">
          <%= link_to edit_profile_path do %>
            <p class="control is-size-6">Edit Profile</p>
          <% end %><br>
          <%= link_to edit_password_path do %>
            <p class="control has-text-weight-medium is-size-5">Change Password</p>
          <% end %><br>
        </div>
      </div>
    </div>
    <div class="column is-9">
      <div class="card">
        <div class="card-content">

          <div class="columns">
            <div class="column control has-text-right">
              <figure class="image is-128x128 has-image-centered">
                <% if @user.avatar.attached? %>
                  <%= image_tag @user.avatar %>
                <% else %>
                  <img src="https://bulma.io/images/placeholders/128x128.png">
                <% end %>
              </figure>
            </div>
          </div>
          <div class="columns">
            <div class="column is-4 control has-text-right">
              <strong>Old Password</strong>
            </div>
            <div class="column is-8">
              <%= f.password_field :current_password, autofocus: true, autocomplete: "name", class: 'input' %>
            </div>
          </div>
          <div class="columns">
            <div class="column is-4 control has-text-right">
              <strong>New Password</strong>
            </div>
            <div class="column is-8">
              <%= f.password_field :password, autofocus: true, autocomplete: "username", class: 'input' %>
            </div>
          </div>
          <div class="columns">
            <div class="column is-4 control has-text-right">
              <strong>Confirm Password</strong>
            </div>
            <div class="column is-8">
              <%= f.password_field :password_confirmation, autofocus: true, autocomplete: "username", class: 'input' %>
            </div>
          </div>
          <div class="columns">
            <div class="column is-4 control has-text-right"></div>
            <div class="column is-8">
              <div class="columns">
                <div class="column">
                  <%= f.submit 'Change Password', class: 'button is-info' %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<% end %>

<style media="screen">

  a {
    color: black;
  }
  .has-image-centered {
    margin-left: auto;
    margin-right: auto;
  }
  .card {
    height: 100%;
  }
</style>
